Index: routes/web.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Web Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here is where you can register web routes for your application. These\r\n| routes are loaded by the RouteServiceProvider within a group which\r\n| contains the \"web\" middleware group. Now create something great!\r\n|\r\n*/\r\n\r\nRoute::get('/', function () {\r\n    if(Auth::check()) {\r\n        return redirect()->route('home');\r\n    }\r\n    return view('index');\r\n});\r\n\r\nRoute::get('/boilerplate', function () {\r\n    return view('boilerplate');\r\n});\r\n\r\n/* NEWS ARTICLES */\r\nRoute::get('/news', 'NewsController@index');\r\nRoute::get('/news/create', 'NewsController@create')->middleware(['auth', 'can:create_news']);\r\nRoute::post('/news/create', 'NewsController@store')->middleware(['auth', 'can:create_news']);\r\nRoute::get('/news/{slug}', 'NewsController@show');\r\n\r\n/* EVENTS SYSTEM */\r\nRoute::get('/events', 'EventController@index');\r\nRoute::get('/events/pending', 'EventController@pending')->middleware(['auth', 'can:manage_events']);\r\nRoute::get('/event/create', 'EventController@create')->middleware(['auth']);\r\nRoute::post('/event/create', 'EventController@store')->middleware(['auth']);\r\nRoute::get('/event/{slug}', 'EventController@show');\r\nRoute::post('/event/{id}/signup', 'EventController@signup');\r\nRoute::post('/event/{id}/leave', 'EventController@leave');\r\nRoute::get('/event/{id}/edit', 'EventController@edit')->middleware(['auth']);\r\nRoute::post('/event/{id}/edit', 'EventController@update')->middleware(['auth']);\r\nRoute::post('/event/{id}/approve', 'EventController@approve')->middleware(['auth', 'can:manage_events']);\r\nRoute::post('/event/{id}/decline', 'EventController@decline')->middleware(['auth', 'can:manage_events']);\r\n\r\n/* Project Management System */\r\nRoute::get('/projects', 'ProjectManagement@index')->middleware(['auth', 'can:use_project_manager']);\r\nRoute::get('/project/{slug}', 'ProjectManagement@show')->middleware(['auth', 'can:use_project_manager']);\r\nRoute::post('/project/create', 'ProjectManagement@CreateProject')->middleware(['auth', 'can:manage_projects']);\r\nRoute::post('/project/{pid}/task/create', 'ProjectManagement@CreateTask')->middleware(['auth', 'can:use_project_manager']);\r\nRoute::post('/project/{pid}/task/{tid}/update', 'ProjectManagement@UpdateTask')->middleware(['auth']); //Gate handled in Controller\r\nRoute::post('/project/{pid}/task/{tid}/delete', 'ProjectManagement@DeleteTask')->middleware(['auth']); //Gate handled in Controller\r\nRoute::post('/project/{pid}/task/{tid}/complete', 'ProjectManagement@CompleteTask')->middleware(['auth']); //Gate handled in Controller\r\nRoute::post('/project/{pid}/task/{tid}/uncomplete', 'ProjectManagement@UncompleteTask')->middleware(['auth']); //Gate handled in Controller\r\nRoute::post('/project/{pid}/transfer', 'ProjectManagement@TransferProject')->middleware(['auth', 'can:manage_projects']);\r\nRoute::post('/project/{pid}/update', 'ProjectManagement@UpdateProject')->middleware(['auth', 'can:manage_projects']);\r\nRoute::post('/project/{pid}/close', 'ProjectManagement@CloseProject')->middleware(['auth', 'can:manage_projects']);\r\nRoute::post('/project/{pid}/open', 'ProjectManagement@OpenProject')->middleware(['auth', 'can:manage_projects']);\r\nRoute::post('/project/{pid}/file/create', 'ProjectManagement@CreateFile')->middleware(['auth']);\r\nRoute::post('/project/{pid}/file/{fid}/update', 'ProjectManagement@UpdateFile')->middleware(['auth']); //Gate handled in Controller\r\nRoute::post('/project/{pid}/file/{fid}/delete', 'ProjectManagement@DeleteFile')->middleware(['auth']); //Gate handled in Controller\r\n\r\n/* GIVEAWAYS SYSTEM */\r\nRoute::get('/giveaways', 'GiveawayController@index');\r\nRoute::get('/giveaway/create', 'GiveawayController@create')->middleware(['auth', 'can:manage_giveaways']);\r\nRoute::post('/giveaway/create', 'GiveawayController@store')->middleware(['auth', 'can:manage_giveaways']);\r\nRoute::get('/giveaway/{id}', 'GiveawayController@show');\r\nRoute::post('/giveaway/{id}/enter', 'GiveawayController@enter');\r\nRoute::post('/giveaway/{id}/leave', 'GiveawayController@leave');\r\nRoute::get('/giveaway/{id}/edit', 'GiveawayController@edit')->middleware(['auth', 'can:manage_giveaways']);\r\nRoute::post('/giveaway/{id}/edit', 'GiveawayController@update')->middleware(['auth', 'can:manage_giveaways']);\r\nRoute::post('/giveaway/{id}/draw', 'GiveawayController@draw')->middleware(['auth', 'can:manage_giveaways']);\r\n\r\n/* INACTIVITY / LOA SYSTEM */\r\nRoute::get('/inactivity', 'LOAController@index')->middleware(['auth', 'can:use_inactivity']);\r\nRoute::get('/inactivity/create', 'LOAController@create')->middleware(['auth', 'can:use_inactivity']);\r\nRoute::post('/inactivity/create', 'LOAController@store')->middleware(['auth', 'can:use_inactivity']);\r\nRoute::get('/inactivity/{id}/delete', 'LOAController@delete')->middleware(['auth', 'can:use_inactivity']);\r\nRoute::get('/inactivity/{id}/edit', 'LOAController@edit')->middleware(['auth', 'can:use_inactivity']);\r\nRoute::post('/inactivity/{id}/edit', 'LOAController@update')->middleware(['auth', 'can:use_inactivity']);\r\n\r\n/* Authentication */\r\nAuth::routes(['reset' => false]);\r\nRoute::get('/home', 'HomeController@index')->name('home');\r\nRoute::get('login/discord', 'Auth\\LoginController@redirectToProvider')->name('login/discord');\r\nRoute::get('login/discord/callback', 'Auth\\LoginController@handleProviderCallback');\r\n\r\n/* User Profiles */\r\nRoute::get('/users', 'ProfileController@index');\r\nRoute::get('/user/{id}', 'ProfileController@SpecifiedUser');\r\nRoute::get('/infraction/create', 'ProfileController@AddInfraction')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/infraction/create', 'ProfileController@StoreInfraction')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/user/{id}/about', 'ProfileController@store')->middleware(['auth']);;\r\nRoute::post('/user/{id}/notes', 'ProfileController@StoreUserNotes')->middleware(['auth', 'can:add_user_notes']);\r\nRoute::get('/profile', 'ProfileController@LoggedInUser')->middleware(['auth']);\r\nRoute::post('/theme', 'ProfileController@ChangeUserTheme')->middleware(['auth']);\r\n\r\n/* Network Status */\r\nRoute::get('/status', 'StatusController@index');\r\nRoute::get('/status/manage', 'StatusController@ManageStatus')->middleware(['auth', 'can:manage_status']);\r\nRoute::post('/status/manage/operational/{id}', 'StatusController@ChangeToOperational')->middleware(['auth', 'can:manage_status']);\r\nRoute::post('/status/manage/performance/{id}', 'StatusController@ChangeToPerformanceIssues')->middleware(['auth', 'can:manage_status']);\r\nRoute::post('/status/manage/outage/{id}', 'StatusController@ChangeToMajorOutage')->middleware(['auth', 'can:manage_status']);\r\nRoute::post('/status/manage/maintenance/{id}', 'StatusController@ChangeToMaintenance')->middleware(['auth', 'can:manage_status']);\r\n\r\n/* Rules */\r\nRoute::get('/rules', 'RulesController@index')->name('rules');\r\nRoute::get('/rules/edit/{id}', 'RulesController@edit')->middleware(['auth', 'can:manage_rules']);\r\nRoute::post('/rules/edit/{id}', 'RulesController@update')->middleware(['auth', 'can:manage_rules']);\r\nRoute::delete('/rules/delete/{id}', 'RulesController@destroy')->name('rules.delete')->middleware(['auth', 'can:manage_rules']);\r\nRoute::get('/rules/create', 'RulesController@create')->middleware(['auth', 'can:manage_rules']);\r\nRoute::post('/rules/create', 'RulesController@store')->middleware(['auth', 'can:manage_rules']);\r\n\r\n/* Staff Policies */\r\nRoute::get('/policies/leaking', function () {return view('policies.leaking');})->middleware(['auth', 'can:view_leaking_policy']);;\r\n\r\n/* Recruitment System */\r\n/* Recruitment - Public */\r\nRoute::get('/recruitment', 'RecruitmentController@index')->name('recruitment.index')->middleware('auth');\r\nRoute::get('/recruitment/create', 'RecruitmentController@create')->name('recruitment.create')->middleware('auth');\r\nRoute::get('/recruitment/application/{id}', 'RecruitmentController@show')->name('recruitment.show')->middleware('auth');\r\nRoute::get('/recruitment/apply/{id}', 'RecruitmentController@apply')->name('recruitment.apply')->middleware('auth');\r\nRoute::post('/recruitment/apply/{id}', 'RecruitmentController@SubmitApplication')->middleware('auth');\r\n/* Recruitment - Form Builder */\r\nRoute::post('/recruitment/create', 'RecruitmentController@StoreNewRecruitment')->name('recruitment.store')->middleware('auth', 'can:manage_recruitment');\r\nRoute::get('/recruitment/AddQuestion/{id}', function ($id) {return view('recruitment.create.addnewquestion')->with('id', $id);})->middleware('auth', 'can:manage_recruitment'); //No Controller needed as no DB information is being retrieved here\r\nRoute::post('/recruitment/AddQuestion/{id}', 'RecruitmentController@AddQuestion')->middleware('auth', 'can:manage_recruitment');\r\nRoute::get('/recruitment/review/{id}', 'RecruitmentController@review')->name('recruitment.review')->middleware('auth', 'can:manage_recruitment');\r\nRoute::post('/recruitment/review/{id}', 'RecruitmentController@ApproveReview')->middleware('auth', 'can:manage_recruitment');\r\n/* Recruitment - Admin */\r\nRoute::get('/recruitment/view/{id}', 'RecruitmentController@ViewApplications')->name('recruitment.ViewApplications')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::get('/recruitment/close/{id}', 'RecruitmentController@CloseRecruitment')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/claim', 'RecruitmentController@ClaimApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/unclaim', 'RecruitmentController@UnclaimApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/resolve', 'RecruitmentController@ResolveApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/close', 'RecruitmentController@CloseApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/reopen', 'RecruitmentController@ReopenApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/delete', 'RecruitmentController@DeleteApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/reply', 'RecruitmentController@ReplyToApplication')->middleware(['auth', 'can:manage_recruitment']);\r\nRoute::post('/recruitment/application/{id}/reassign/{uid}', 'RecruitmentController@Reassignapplication')->middleware(['auth', 'can:manage_recruitment']);\r\n\r\n/* Discord System */\r\nRoute::get('/discord/roles', 'DiscordController@roles');\r\nRoute::get('/discord/bans', 'DiscordController@bans');\r\nRoute::get('/discord/rolesync', 'DiscordController@SyncRoles')->middleware(['auth', 'can:use_discord_tools']);\r\nRoute::get('/discord/syncuser', 'DiscordController@SyncPage')->middleware(['auth', 'can:manage_users']);\r\nRoute::get('/discord/syncuser/{id}', 'DiscordController@SyncUser')->middleware(['auth', 'can:manage_users']);\r\nRoute::get('/discord/bans/delete/{id}', 'DiscordController@DeleteBan')->middleware(['auth', 'can:manage_users']);\r\nRoute::get('/discord/bans/create/{id}', 'DiscordController@CreateBan')->middleware(['auth', 'can:manage_users']);\r\nRoute::post('/discord/bans/create/{id}', 'DiscordController@store')->middleware(['auth', 'can:manage_users']);\r\n\r\n/* Support Desk */\r\n/* Support - Public */\r\nRoute::get('/support', 'SupportController@index')->name('support.index')->middleware(['auth']);\r\nRoute::get('/support/create', 'SupportController@create')->name('support.create')->middleware(['auth']);\r\nRoute::get('/support/ticket/{id}', 'SupportController@show')->name('support.show')->middleware(['auth']);\r\nRoute::post('/support/create', 'SupportController@store')->name('support.store')->middleware('auth');\r\nRoute::post('/support/ticket/{id}/reply', 'SupportController@ReplyToTicket')->middleware('auth');\r\n/* Support - Admin */\r\nRoute::get('/support/admin', 'SupportController@admin')->name('support.admin')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/claim', 'SupportController@ClaimTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/unclaim', 'SupportController@UnclaimTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/resolve', 'SupportController@ResolveTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/close', 'SupportController@CloseTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/reopen', 'SupportController@ReopenTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/delete', 'SupportController@DeleteTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/category', 'SupportController@ChangeCategory')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/ticket/{id}/reassign', 'SupportController@ReassignTicket')->middleware(['auth', 'can:manage_support']);\r\nRoute::post('/support/reply/{mid}/ToggleHide', 'SupportController@ToggleHide')->middleware(['auth', 'can:manage_support']);\r\n\r\n/* Feedback System */\r\n/* Feedback - Public */\r\nRoute::get('/feedback', 'FeedbackController@index')->name('feedback.index')->middleware('auth');\r\nRoute::get('/feedback/create', 'FeedbackController@create')->name('feedback.create')->middleware('auth');\r\nRoute::get('/feedback/ticket/{id}', 'FeedbackController@show')->name('feedback.show')->middleware('auth');\r\nRoute::post('/feedback/create', 'FeedbackController@store')->name('feedback.store')->middleware('auth');\r\nRoute::post('/feedback/ticket/{id}/reply', 'FeedbackController@ReplyToTicket')->middleware('auth');\r\n/* Feedback - Admin */\r\nRoute::get('/feedback/admin', 'FeedbackController@admin')->name('feedback.admin')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/claim', 'FeedbackController@ClaimTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/unclaim', 'FeedbackController@UnclaimTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/resolve', 'FeedbackController@ResolveTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/close', 'FeedbackController@CloseTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/reopen', 'FeedbackController@ReopenTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/delete', 'FeedbackController@DeleteTicket')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/category', 'FeedbackController@ChangeCategory')->middleware(['auth', 'can:manage_feedback']);\r\nRoute::post('/feedback/ticket/{id}/reassign', 'FeedbackController@ReassignTicket')->middleware(['auth', 'can:manage_feedback']);\r\n\r\n/* Reports System */\r\n/* Reports - Public */\r\nRoute::get('/reports', 'ReportsController@index')->name('reports.index')->middleware('auth');\r\nRoute::get('/report/create', 'ReportsController@create')->name('reports.create')->middleware('auth');\r\nRoute::get('/report/{id}', 'ReportsController@show')->name('reports.show')->middleware('auth');\r\nRoute::post('/report/create', 'ReportsController@store')->name('reports.store')->middleware('auth');\r\nRoute::post('/report/{id}/reply', 'ReportsController@ReplyToReport')->middleware('auth');\r\n/* Reports - Admin */\r\nRoute::get('/reports/admin', 'ReportsController@admin')->name('reports.admin')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/report/{id}/claim', 'ReportsController@ClaimReport')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/report/{id}/unclaim', 'ReportsController@UnclaimReport')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/report/{id}/resolve', 'ReportsController@ResolveReport')->middleware(['auth', 'can:manage_reports']);\r\nRoute::get('/report/{id}/close', 'ReportsController@CloseReport')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/report/{id}/reopen', 'ReportsController@ReopenReport')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/report/{id}/delete', 'ReportsController@DeleteReport')->middleware(['auth', 'can:manage_reports']);\r\n\r\n/* Appeals System */\r\n/* Appeals - Public */\r\nRoute::get('/appeals', 'AppealsController@index')->name('appeals.index')->middleware('auth');\r\nRoute::get('/appeal/create', 'AppealsController@create')->name('appeals.create')->middleware('auth');\r\nRoute::get('/appeal/{id}', 'AppealsController@show')->name('appeals.show')->middleware('auth');\r\nRoute::post('/appeal/create', 'AppealsController@store')->name('appeals.store')->middleware('auth');\r\nRoute::post('/appeal/{id}/reply', 'AppealsController@ReplyToAppeal')->middleware('auth');\r\n/* Appeals - Admin */\r\nRoute::get('/appeals/admin', 'AppealsController@admin')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/claim', 'AppealsController@ClaimAppeal')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/unclaim', 'AppealsController@UnclaimAppeal')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/resolve', 'AppealsController@ResolveAppeal')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/close', 'AppealsController@CloseAppeal')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/reopen', 'AppealsController@ReopenAppeal')->middleware(['auth', 'can:manage_reports']);\r\nRoute::post('/appeal/{id}/delete', 'AppealsController@DeleteAppeal')->middleware(['auth', 'can:manage_reports']);\r\n\r\n/* VTC System - Plasma Trucking */\r\nRoute::get('/vtc', 'TruckingController@index')->name('vtc.index');\r\nRoute::get('/vtc/leaderboard', 'TruckingController@leaderboard')->middleware(['auth', 'can:access_vtc']);\r\nRoute::get('/vtc/locations', 'TruckingController@locations')->name('vtc.locations')->middleware(['auth', 'can:access_vtc']);\r\nRoute::get('/vtc/job/create', 'TruckingController@create')->name('vtc.create')->middleware(['auth', 'can:access_vtc']);\r\nRoute::post('/vtc/job/create', 'TruckingController@store')->name('vtc.create')->middleware(['auth', 'can:access_vtc']);\r\nRoute::get('/vtc/job/{id}', 'TruckingController@show')->name('vtc.show')->middleware(['auth', 'can:access_vtc']);\r\nRoute::post('/vtc/job/{id}/approve', 'TruckingController@approve')->name('vtc.approve')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::post('/vtc/job/{id}/deny', 'TruckingController@decline')->name('vtc.deny')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::get('/vtc/job/{id}/edit', 'TruckingController@edit')->name('vtc.edit')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::post('/vtc/job/{id}/edit', 'TruckingController@SaveEdit')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::get('/vtc/jobs', 'TruckingController@jobslist')->name('vtc.jobslist')->middleware(['auth', 'can:access_vtc']);\r\nRoute::get('/vtc/jobs/pending', 'TruckingController@pending')->name('vtc.pending')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::get('/vtc/drivers/{division}', 'TruckingController@Drivers')->name('vtc.drivers.simulation');\r\nRoute::get('/vtc/missions', 'TruckingController@MissionsIndex')->middleware(['auth', 'can:access_vtc']);\r\nRoute::get('/vtc/missions/create', 'TruckingController@CreateMission')->middleware(['auth', 'can:manage_vtc']);\r\nRoute::post('/vtc/missions/create', 'TruckingController@StoreMission')->middleware(['auth', 'can:manage_vtc']);\r\n\r\n/* Terms of Service and Privacy */\r\nRoute::get('/terms', function () {return view('terms.terms');})->name('terms');\r\nRoute::get('/privacy', function () {return view('terms.privacy');})->name('privacy');\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- routes/web.php	(revision df17ea2e14ad73e4b23a6c132933703930975d66)
+++ routes/web.php	(date 1604424492006)
@@ -216,6 +216,9 @@
 Route::post('/appeal/{id}/reopen', 'AppealsController@ReopenAppeal')->middleware(['auth', 'can:manage_reports']);
 Route::post('/appeal/{id}/delete', 'AppealsController@DeleteAppeal')->middleware(['auth', 'can:manage_reports']);
 
+/* Staff Statistics System */
+Route::get('/stats', 'StatsController@index')->middleware('auth');
+
 /* VTC System - Plasma Trucking */
 Route::get('/vtc', 'TruckingController@index')->name('vtc.index');
 Route::get('/vtc/leaderboard', 'TruckingController@leaderboard')->middleware(['auth', 'can:access_vtc']);
